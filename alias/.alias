#!/bin/bash

screen-reattach(){
    SESSIONNAME=${1:-tmux}
    which tmux &> /dev/null
    if [ $? -eq 0 ]
    then
        tmux -2 new -A -s $SESSIONNAME
    else
        screen -R -d $SESSIONNAME
    fi
}
export -f screen-reattach
alias sr="screen-reattach"

alias dos='export PS1=$C_COLON_BACKSLASH'
alias dstatall='dstat -larm --top-io --top-latency 10'
alias fgrep="find . | awk '!/CVS|\.git|\.svn|_Stub|\.#/  {print \$0;}' | sed 's/\ /\\\ /g' | xargs grep --color=always -in "
alias ls="ls -hl --color"
alias gitclean='git fetch -p | git branch --merged master | grep -v "\* master" | xargs -n 1 git branch -d'
alias gitpp="git pull && git push"
alias grepc="grep --color=always -i"
alias htop="TERM=screen htop"
alias salias="source ~/.alias"

#Novetta Commands
alias nov="cd $NOVETTA"
alias debug="export LOG_LEVEL=DEBUG"
alias ker="cd $KERBPROXY"
alias kersource="source /opt/kerbproxy/conf/kerbproxy.env"
alias fms="cd $NOVETTA/fms"
alias npminstall="npm install && npm run start"

#Ares commands
alias aresdev="source $ARES/dev/ares_dev.env"
alias aresunittest="sh $ARES/dev/rununittests.sh"
alias runares="source $ARES/dev/ares_dev.env && cd $ARES/aresserver/server && go run server.go"
alias debugares="aresdev && debug && cd $ARES/aresserver/server && go run server.go"
alias upares="sh $ARES/setup/updateDb.sh"
alias ares="cd $ARES"
alias aresnpm="cd $ARES/aresweb && npm run start"
alias fbncjs="cd $ARES/aresweb/packages/fbncjs"
alias aresserver="cd $ARES/aresserver"
alias aresweb="cd $ARES/aresweb"
alias glideinstall="cd $ARES && glide cc && glide install && aresdev && cd $ARES/aresserver/server && go install && go run server.go"

#Ares Organizations
alias runorg="sh $ARES/lib/organizations/dev/run_server.sh"
alias org="cd $ARES/lib/organizations"
alias uporg="sh $ARES/setup/organizations/updateDb.sh"

#Ares Tracks commands
alias arimbey="cd /home/centos/gocode/src/github.com/arimbey/dot-files"
alias startfeed="arimbey && sh devScripts/cot_tmux.sh"
alias stopfeed="arimbey $$ sh devScripts/kill_cot_tmux.sh"
alias rungeosub="aresdev && cd $ARES/lib/geosub/geosubscriptions && go run main.go"
alias runrecorder="aresdev && cd $ARES/lib/recorder && go run recorder.go"
alias runexec="aresdev  && nov && cd executor/distexecutorservice &&  go run main.go"
alias rungen="aresdev && ares && cd lib/generator/cot_generator && go run main.go -outIp 234.1.2.3:1234 -num 250"


if [[ -f "$HOME/.local.alias" ]]; then
    source $HOME/.local.alias
fi
